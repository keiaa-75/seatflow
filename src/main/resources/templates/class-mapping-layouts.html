<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('Create seating chart')}"></head>
<body>
    <th:block th:insert="~{fragments/navbar :: navbar}"></th:block>
    <th:block th:insert="~{fragments/title-card :: titleCard('Create seating chart', true, '/sections/' + ${sectionId})}"/>
    <section class="section">
        <div class="container">
            <div th:insert="~{fragments/notifications :: notifications}"></div>
            

            
            <div class="columns is-multiline is-centered">
                <th:block th:each="layout : ${layouts}">
                    <div class="column is-4-desktop is-12-mobile">
                        <a href="#" 
                           class="box is-clickable has-text-centered layout-select-btn"
                           th:data-layout-id="${layout.presetId}"
                           th:data-layout-name="${layout.name}"
                           style="text-decoration: none; color: inherit;">
                            <h3 class="title is-5" th:text="${layout.name}">Layout Name</h3>
                            <p class="help" th:text="${layout.rows + ' × ' + layout.columns + ' seats'}">10 × 10</p>
                        </a>
                    </div>
                </th:block>
            </div>
        </div>
    </section>
    
    <th:block th:insert="~{fragments/input-modal :: inputModal('name-modal', 'Name your seating chart', 'Name', 'e.g., Monday Seating, Week 3, Exam Layout', 'Give this seating chart a name so you can find it later', 'Create', 'Cancel')}"/>
            </div>
        </div>
        <button class="modal-close is-large" aria-label="close"></button>
    </div>
    
    <div id="loading-modal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-content">
            <div class="box has-text-centered">
                <p class="is-size-5">Creating seating chart...</p>
            </div>
        </div>
    </div>
    
    <script th:inline="javascript">
        const sectionId = /*[[${sectionId}]]*/ null;
        let selectedLayoutId = null;
        let selectedLayoutName = null;
    </script>
    <script src="/js/class-mapping-layouts.js"></script>
</body>
</html>
